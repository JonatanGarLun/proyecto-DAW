{% extends 'base.html' %}
{% load static %}

{% block title %}Inicio{% endblock %}

{% block links %}
    <link rel="stylesheet" href="{% static 'css/inicio.css' %}"/>
{% endblock %}


{% block hud %}
    <div class="hud-wrapper">
        <div class="hud-frame">
            <div class="hud-top-left">
                <!-- Imagen de la clase del jugador -->
                <img src="{% static 'resources/Pixelarts/'|add:jugador.clase|add:'/'|add:jugador.clase|add:'_base.png' %}"
                     class="foto-clase" alt="Foto del personaje del jugador">

                <!-- Estadísticas del jugador -->
                <div class="player-info">
                    <p><span class="label">Nombre:</span> <span class="value">{{ jugador.nombre }}</span></p>
                    <p><span class="label">Nivel:</span> <span class="value">{{ jugador.nivel }}</span></p>
                    <p><span class="label">Clase:</span> <span class="value">{{ jugador.clase.capitalize }}</span></p>
                </div>

                <!-- Línea de separación -->
                <div class="separator-line"></div>

                <!-- Barras de estadística -->
                <div class="status-bars">
                    <div class="barra-container">
                        <span class="status-label">Salud:</span>
                        <div class="barra barra-salud">
                            <div class="barra-fill barra-salud-fill"
                                 style="width: {{ porcentaje_salud }}%;"></div>
                            <span class="barra-texto">{{ jugador.salud }}/{{ jugador.salud_maxima }} ({{ porcentaje_salud }}%)</span>
                        </div>
                    </div>
                    <div class="barra-container">
                        <span class="status-label">Energía:</span>
                        <div class="barra barra-energia">
                            <div class="barra-fill barra-energia-fill"
                                 style="width: {{ porcentaje_energia }}%;"></div>
                            <span class="barra-texto">{{ jugador.energia_espiritual }}/{{ jugador.energia_espiritual_maxima }} ({{ porcentaje_energia }}%)</span>
                        </div>
                    </div>
                    <div class="barra-container">
                        <span class="status-label">EXP:</span>
                        <div class="barra barra-exp">
                            <div class="barra-fill barra-exp-fill"
                                 style="width: {{ porcentaje_exp }}%;"></div>
                            <span class="barra-texto">{{ jugador.experiencia }}/{{ jugador.experiencia_maxima }} ({{ porcentaje_exp }}%)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="game-container">
        <!-- Fondo dinámico -->
        <div id="fondo-dinamico"></div>
        <div id="fade-overlay"></div>


        <!-- Menú inferior con carrusel -->
        <div class="hud-bottom">
            <div class="flecha flecha-izquierda" id="flecha-izquierda">
                <span class="flecha-icon">⭐</span>
            </div>

            <div class="carrusel" id="carrusel-opciones">
                {% for opcion in opciones %}
                    <div class="opcion" data-url="{{ opcion.url }}" data-imagen-central="{{ opcion.imagen_central }}">
                        <img src="{{ opcion.imagen }}" alt="{{ opcion.nombre }}">
                        <span class="opcion-nombre">{{ opcion.nombre }}</span>
                    </div>
                {% endfor %}
            </div>

            <div class="flecha flecha-derecha" id="flecha-derecha">
                <span class="flecha-icon">⭐</span>
            </div>

            <div class="guia-teclado">
                ⬅️ ➡️ para navegar | ⏎ para seleccionar
            </div>
        </div>
    </div>

    <script src="{% static 'js/inicio.js' %}"></script>
{% endblock %}
